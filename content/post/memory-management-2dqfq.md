---
title: 408操作系统—3.内存管理
slug: memory-management-2dqfq
url: /post/memory-management-2dqfq.html
date: '2024-05-12 20:01:00+08:00'
lastmod: '2024-05-13 20:51:00+08:00'
toc: true
tags:
  - '408'
  - 操作系统
categories:
  - 提桶跑路笔记
keywords: 408,操作系统
isCJKLanguage: true
---





* 内存管理

  * 内存管理的概念

    * 内存管理概述
    * 程序的链接和装入过程
    * 逻辑地址与物理地址
    * 进程的内存映像
  * 连续分配管理方式
  * 基本分页存储管理
  * 基本分段存储管理
  * 段页式存储管理
* 虚拟内存管理

  * 虚拟内存基本概念
  * 请求分页管理方式
  * 页框分配
  * 页面置换算法
  * 抖动和工作集
  * 内存映射文件
  * 虚拟存储器性能影响因素

## 内存管理

### 内存管理的概念

#### 内存管理概述

* **什么是内存管理**

  操作系统对内存的<u>划分和动态分配</u>
* **内存管理的功能**

  1. **内存空间的分配与回收**

      由OS完成主存储器空间的分配和管理
  2. **地址转换**

      将程序的逻辑地址转换为内存种的物理地址
  3. **内存空间的扩充**

      利用虚拟存储技术从逻辑上扩充内存
  4. **内存共享**

      允许多个进程访问内存同一部分
  5. **存储保护**

      保证多道作业在各自存储空间运行，互不干扰
* **内存分配与回收**

  1. **连续分配**

      1. **单一连续分配**

          单道发展到多道OS↓
      2. **固定分区分配**

          为了适应大小不同的程序↓
      3. **动态分区分配**

          更好提高内存利用率↓
  2. **不连续分配**

      1. **分段存储管理**

          为了满足用户在编程和使用方面的要求
      2. **分页存储管理**
      3. **段页存储管理**

#### 程序的链接与装入过程

​![image](https://image-host-pkj.oss-cn-guangzhou.aliyuncs.com/202405131536939.png)​

创建进程首先需要将程序和数据装入内存，将用户源程序变为可以在内存中执行的程序

1. **编译**

    由编译程序将用户源代码编译成若干目标模块
2. **链接**

    由链接程序将目标模块和所需库函数链接，形成完整装入模块

    1. **静态链接**

        链接成完整装入模块后不再拆开

        由于编译后的目标模块都是以0开始的相对地址，链接为装入模块时相对地址需要修改

        每个目标模块的外部调用符号也变化为相对地址
    2. **装入时动态链接**

        一组目标模块在装入内存时，边装入边链接

        便于修改和更新，可以实现目标模块的共享
    3. **运行时动态链接**

        程序运行中需要用到某目标模块时再链接，未使用的目标模块都不会调入内存和形成装入模块

        能够加快程序装入过程，节省内存
3. **装入**

    装入程序将装入模块装入内存运行

    1. **绝对装入**

        只适用于单道程序环境

        编程时就将物理地址计算好，程序中的逻辑地址和实际内存地址完全相同
    2. **可重定位装入**

        也称为<u>静态重定位装入</u>，装入时把逻辑地址转换为物理地址

        必须一次分配所有所需内存，运行期间不能移动也不能再次申请内存空间

        ​![image](https://image-host-pkj.oss-cn-guangzhou.aliyuncs.com/202405131600362.png)​
    3. **动态运行时装入**

        也称为<u>动态重定位装入</u>

        可以装入部分需要执行的代码分配相应内存地址，在程序运行期间根据动态需要申请内存，且申请的内存区可以不连续

        因此每分配一段内存地址都需要一个重定位寄存器，其中存放装入模块的起始位置

        ​![image](https://image-host-pkj.oss-cn-guangzhou.aliyuncs.com/202405131600032.png)​

#### 逻辑地址与物理地址

‍

#### 进程的内存映像

‍
